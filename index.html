<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8">
	<title>Malla Curricular - Licenciatura en Educaci&oacute;n Infantil</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
			background: linear-gradient(135deg, #f7f1f4 0%, #e6d6e1 100%);
			min-height: 100vh;
			padding: 20px;
			color: #3b2934;
		}

		.container {
			max-width: 1680px;
			width: min(96vw, 1680px);
			margin: 0 auto;
			background: #ffffff;
			border-radius: 12px;
			box-shadow: 0 10px 30px rgba(110, 50, 86, 0.15);
			overflow: hidden;
		}

		.header {
			background: linear-gradient(135deg, #6e3256 0%, #9c4d7d 50%, #6e3256 100%);
			background-size: 200% 200%;
			animation: gradientShift 4s ease infinite;
			color: #ffffff;
			padding: 30px;
			text-align: center;
			position: relative;
			overflow: hidden;
		}

		.header::before {
			content: "";
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
			animation: shimmer 3s ease infinite;
		}

		@keyframes gradientShift {
			0% { background-position: 0% 50%; }
			50% { background-position: 100% 50%; }
			100% { background-position: 0% 50%; }
		}

		@keyframes shimmer {
			0% { left: -100%; }
			100% { left: 100%; }
		}

		.header h1 {
			font-size: 2.5rem;
			margin-bottom: 10px;
			font-weight: 900;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.35);
		}

		.header p {
			font-size: 1.1rem;
			opacity: 0.9;
		}

		.stats-panel {
			background: #faf7f9;
			padding: 25px;
			border-bottom: 1px solid #e8d8e2;
		}

		.stats-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 20px;
			margin-bottom: 25px;
		}

		.stat-card {
			background: #ffffff;
			padding: 20px;
			border-radius: 8px;
			box-shadow: 0 2px 12px rgba(110, 50, 86, 0.1);
			text-align: center;
			border-left: 4px solid #6e3256;
		}

		.stat-number {
			font-size: 2rem;
			font-weight: bold;
			color: #6e3256;
			margin-bottom: 5px;
		}

		.stat-label {
			color: #6d5162;
			font-size: 0.9rem;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.progress-container {
			background: #ffffff;
			padding: 20px;
			border-radius: 8px;
			box-shadow: 0 2px 12px rgba(110, 50, 86, 0.1);
		}

		.progress-label {
			display: flex;
			justify-content: space-between;
			margin-bottom: 10px;
			font-weight: 600;
			color: #4b3542;
		}

		.progress-bar {
			width: 100%;
			height: 12px;
			background: #e8d8e2;
			border-radius: 6px;
			overflow: hidden;
		}

		.progress-fill {
			height: 100%;
			background: linear-gradient(90deg, #6e3256, #b36897, #6e3256);
			background-size: 200% 100%;
			animation: progressGlow 2s ease-in-out infinite;
			border-radius: 6px;
			transition: width 0.5s;
			position: relative;
			overflow: hidden;
		}

		.progress-fill::after {
			content: "";
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.35), transparent);
			animation: progressShimmer 1.5s ease infinite;
		}

		.profile-actions {
			margin-top: 24px;
			display: flex;
			flex-wrap: wrap;
			gap: 12px;
			align-items: center;
		}

		.profile-actions label {
			font-weight: 600;
			color: #4b3542;
		}

		.profile-actions input[type="text"] {
			padding: 10px 14px;
			border-radius: 6px;
			border: 1px solid #d6becc;
			min-width: 220px;
			font-size: 0.95rem;
		}

		.profile-actions button {
			padding: 10px 18px;
			border-radius: 6px;
			border: none;
			background: #6e3256;
			color: #ffffff;
			font-weight: 600;
			cursor: pointer;
			transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
		}

		.profile-actions button:hover,
		.profile-actions button:focus-visible {
			background: #4b3542;
			transform: translateY(-1px);
			box-shadow: 0 8px 18px rgba(110, 50, 86, 0.18);
			outline: none;
		}

		@keyframes progressGlow {
			0%, 100% { background-position: 0% 50%; }
			50% { background-position: 100% 50%; }
		}

		@keyframes progressShimmer {
			0% { left: -100%; }
			100% { left: 100%; }
		}

		.curriculum-grid {
			padding: 30px;
		}

		.grid-scroll {
			overflow-x: auto;
			padding: 16px 24px 16px 16px;
			border: 1px solid #e8d8e2;
			border-radius: 14px;
			background: #ffffff;
		}

		.grid-scroll::-webkit-scrollbar {
			height: 10px;
		}

		.grid-scroll::-webkit-scrollbar-track {
			background: #f3e7ef;
			border-radius: 999px;
		}

		.grid-scroll::-webkit-scrollbar-thumb {
			background: #b36897;
			border-radius: 999px;
			border: 2px solid #f3e7ef;
		}

		.grid-scroll::-webkit-scrollbar-thumb:hover {
			background: #8e4f76;
		}

		.grid-scroll {
			scrollbar-color: #b36897 #f3e7ef;
			scrollbar-width: thin;
		}

		.grid-container {
			display: grid;
			grid-template-columns: repeat(9, minmax(260px, 1fr));
			gap: 20px;
			min-width: calc(9 * 260px + 8 * 20px);
		}

		.period-column {
			background: #faf7f9;
			border-radius: 12px;
			padding: 20px;
			border: 2px solid #e8d8e2;
		}

		.period-header {
			background: linear-gradient(135deg, #6e3256, #9c4d7d);
			color: #ffffff;
			padding: 15px;
			border-radius: 8px;
			text-align: center;
			margin-bottom: 20px;
			box-shadow: 0 4px 15px rgba(110, 50, 86, 0.3);
		}

		.period-title {
			font-size: 1.3rem;
			font-weight: 600;
			margin-bottom: 5px;
		}

		.period-credits {
			font-size: 0.9rem;
			opacity: 0.9;
		}

		.course-card {
			background: #ffffff;
			border: 2px solid #e8d8e2;
			border-radius: 8px;
			padding: 15px;
			margin-bottom: 15px;
			transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
			position: relative;
			overflow: hidden;
			min-height: 150px;
			display: flex;
			flex-direction: column;
			gap: 10px;
			justify-content: flex-start;
			align-items: flex-start;
			cursor: pointer;
		}

		.course-card:hover {
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(110, 50, 86, 0.18);
			border-color: #6e3256;
		}

		.course-card:focus-visible {
			outline: 3px solid rgba(110, 50, 86, 0.45);
			outline-offset: 3px;
		}

		.course-name {
			font-weight: 600;
			margin-bottom: 8px;
			line-height: 1.3;
			min-height: calc(1.3em * 3);
			color: #3b2934;
		}

		.course-code,
		.course-credit {
			font-size: 0.85rem;
			color: #6d5162;
			background: #faf7f9;
			padding: 4px 8px;
			border-radius: 4px;
			display: inline-block;
			margin-right: 6px;
		}

		.course-status-badge {
			margin-top: auto;
			padding: 6px 12px;
			border-radius: 999px;
			font-size: 0.8rem;
			font-weight: 700;
			letter-spacing: 0.04em;
			text-transform: uppercase;
			background: rgba(110, 50, 86, 0.12);
			color: #6e3256;
		}

		.course-card.status-por-ver {
			background: #ffffff;
			border-color: #e8d8e2;
		}

		.course-card.status-por-ver .course-code,
		.course-card.status-por-ver .course-credit {
			background: #faf7f9;
			color: #6d5162;
		}

		.course-card.status-por-ver .course-status-badge {
			background: rgba(110, 50, 86, 0.12);
			color: #6e3256;
		}

		.course-card.status-aprobado {
			background: linear-gradient(135deg, #e7f7ed, #d4efdf);
			border-color: #49a06b;
		}

		.course-card.status-aprobado .course-name {
			color: #214a32;
		}

		.course-card.status-aprobado .course-code,
		.course-card.status-aprobado .course-credit {
			background: rgba(73, 160, 107, 0.12);
			color: #214a32;
		}

		.course-card.status-aprobado .course-status-badge {
			background: #49a06b;
			color: #ffffff;
		}

		.course-card.status-matriculado {
			background: linear-gradient(135deg, #fff4e0, #ffd9b8);
			border-color: #ffb870;
		}

		.course-card.status-matriculado .course-name {
			color: #8b5a1a;
		}

		.course-card.status-matriculado .course-code,
		.course-card.status-matriculado .course-credit {
			background: rgba(255, 184, 112, 0.18);
			color: #8b5a1a;
		}

		.course-card.status-matriculado .course-status-badge {
			background: #ffb870;
			color: #61390c;
		}

		.course-card.status-proyeccion {
			background: linear-gradient(135deg, #f1e9f4, #e0d1e8);
			border-color: #a076b0;
		}

		.course-card.status-proyeccion .course-name {
			color: #4a3460;
		}

		.course-card.status-proyeccion .course-code,
		.course-card.status-proyeccion .course-credit {
			background: rgba(160, 118, 176, 0.18);
			color: #4a3460;
		}

		.course-card.status-proyeccion .course-status-badge {
			background: #a076b0;
			color: #ffffff;
		}

		.course-card[data-elective="true"] {
			border-left: 6px solid #6e3256;
			padding-left: 18px;
		}

		.legend {
			display: flex;
			justify-content: center;
			gap: 30px;
			margin-top: 30px;
			padding: 20px;
			background: #faf7f9;
			border-radius: 8px;
		}

		.legend-item {
			display: flex;
			align-items: center;
			gap: 10px;
			font-size: 0.9rem;
			color: #4b3542;
		}

		.legend-color {
			width: 20px;
			height: 20px;
			border-radius: 4px;
			border: 2px solid #d6becc;
		}

		.legend-color.pending {
			background: #ffffff;
		}

		.legend-color.enrolled {
			background: linear-gradient(135deg, #fff4e0, #ffd9b8);
			border-color: #ffb870;
		}

		.legend-color.completed {
			background: linear-gradient(135deg, #e7f7ed, #d4efdf);
			border-color: #49a06b;
		}

		.legend-color.proyeccion {
			background: linear-gradient(135deg, #f1e9f4, #e0d1e8);
			border-color: #a076b0;
		}

		[hidden] {
			display: none !important;
		}

		body.modal-open {
			overflow: hidden;
		}

		.modal-overlay {
			position: fixed;
			inset: 0;
			background: rgba(59, 41, 52, 0.45);
			display: flex;
			justify-content: center;
			align-items: center;
			padding: 20px;
			z-index: 1000;
		}

		.modal {
			background: #ffffff;
			border-radius: 16px;
			padding: 28px;
			width: min(440px, 90vw);
			box-shadow: 0 25px 60px rgba(59, 41, 52, 0.35);
			display: flex;
			flex-direction: column;
			gap: 20px;
		}

		.modal-title {
			font-size: 1.35rem;
			font-weight: 700;
			color: #6e3256;
			text-align: center;
		}

		.modal-course-name {
			font-size: 1.05rem;
			font-weight: 600;
			color: #3b2934;
			text-align: center;
		}

		.modal-course-meta {
			font-size: 0.9rem;
			color: #6d5162;
			text-align: center;
		}

		.modal-buttons {
			display: grid;
			grid-template-columns: repeat(2, minmax(0, 1fr));
			gap: 12px;
		}

		.modal-button {
			border: none;
			border-radius: 12px;
			padding: 14px 16px;
			font-weight: 600;
			font-size: 0.95rem;
			cursor: pointer;
			transition: transform 0.2s, box-shadow 0.2s;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 0.6rem;
			color: #3b2934;
			background: #f3e7ef;
		}

		.modal-button[data-status="aprobado"] {
			background: linear-gradient(135deg, #4db278, #3d945f);
			color: #ffffff;
		}

		.modal-button[data-status="matriculado"] {
			background: linear-gradient(135deg, #ffbe6c, #ff9e3b);
			color: #4d2c05;
		}

		.modal-button[data-status="por-ver"] {
			background: linear-gradient(135deg, #f5e8f0, #efd7e4);
			color: #6e3256;
		}

		.modal-button[data-status="proyeccion"] {
			background: linear-gradient(135deg, #d6c8e6, #c1add8);
			color: #3f2a56;
		}

		.modal-button:hover,
		.modal-button:focus-visible {
			transform: translateY(-2px);
			box-shadow: 0 10px 24px rgba(110, 50, 86, 0.18);
			outline: none;
		}

		.modal-button.is-active {
			box-shadow: 0 0 0 3px rgba(110, 50, 86, 0.25);
		}

		.modal-close {
			border: none;
			border-radius: 12px;
			padding: 12px 16px;
			font-weight: 600;
			font-size: 0.95rem;
			cursor: pointer;
			background: #6d5162;
			color: #ffffff;
			transition: background 0.2s;
		}

		.modal-close:hover,
		.modal-close:focus-visible {
			background: #4b3542;
			outline: none;
		}

		.modal small {
			text-align: center;
			color: #6d5162;
		}

		@media (max-width: 768px) {
			.header h1 {
				font-size: 2rem;
			}

			.stats-grid {
				grid-template-columns: repeat(2, 1fr);
			}

			.grid-container {
				grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
			}
		}

		@media (prefers-reduced-motion: reduce) {
			*, *::before, *::after {
				animation-duration: 0.01ms !important;
				animation-iteration-count: 1 !important;
				transition-duration: 0.01ms !important;
				scroll-behavior: auto !important;
			}
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="header">
			<h1>Malla Curricular</h1>
			<p>Licenciatura en Educaci&oacute;n Infantil - UNAD</p>
		</div>

		<div class="stats-panel">
			<div class="stats-grid">
				<div class="stat-card">
					<div class="stat-number" id="totalCourses">55</div>
					<div class="stat-label">Total de Cursos</div>
				</div>
				<div class="stat-card">
					<div class="stat-number" id="completedCourses">0</div>
					<div class="stat-label">Cursos Aprobados</div>
				</div>
				<div class="stat-card">
					<div class="stat-number" id="enrolledCourses">0</div>
					<div class="stat-label">Cursos Matriculados</div>
				</div>
				<div class="stat-card">
					<div class="stat-number" id="pendingCourses">53</div>
					<div class="stat-label">Por Matricular</div>
				</div>
				<div class="stat-card">
					<div class="stat-number" id="totalCredits">156</div>
					<div class="stat-label">Total Cr&eacute;ditos</div>
				</div>
				<div class="stat-card">
					<div class="stat-number" id="approvedCredits">0</div>
					<div class="stat-label">Cr&eacute;ditos Aprobados</div>
				</div>
			</div>

			<div class="progress-container">
				<div class="progress-label">
					<span>Progreso Acad&eacute;mico</span>
					<span id="progressPercent">0%</span>
				</div>
				<div class="progress-bar" role="progressbar" aria-label="Progreso acad&eacute;mico" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
					<div class="progress-fill" id="progressFill" style="width: 0%;"></div>
				</div>
			</div>

			<div class="profile-actions" aria-label="Gesti&oacute;n de avance">
				<label for="profileName">Perfil:</label>
				<input type="text" id="profileName" placeholder="Ej. Pepito P&eacute;rez">
				<button type="button" id="downloadSnapshot">Descargar vista HTML</button>
			</div>
		</div>

		<div class="curriculum-grid">
			<div class="grid-scroll">
				<div class="grid-container" id="curriculumGrid">
				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 1</div>
						<div class="period-credits">Cr&eacute;ditos: 18</div>
					</div>
					<div class="course-card">
						<div class="course-name">Introducci&oacute;n a la Licenciatura en Educaci&oacute;n Infantil</div>
						<div class="course-code">C&oacute;digo: 502707680</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Lectura y escritura acad&eacute;micas</div>
						<div class="course-code">C&oacute;digo: 514519</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">C&aacute;tedra Unadista</div>
						<div class="course-code">C&oacute;digo: 80017</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Herramientas Digitales para la Gesti&oacute;n del Conocimiento</div>
						<div class="course-code">C&oacute;digo: 200610</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Competencias Comunicativas</div>
						<div class="course-code">C&oacute;digo: 40003</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">&Eacute;tica y ciudadan&iacute;a</div>
						<div class="course-code">C&oacute;digo: 40002</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
				</div>

				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 2</div>
						<div class="period-credits">Cr&eacute;ditos: 19</div>
					</div>
					<div class="course-card">
						<div class="course-name">Infancia: historias y perspectivas</div>
						<div class="course-code">C&oacute;digo: 514517</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Epistemolog&iacute;a e historia de la pedagog&iacute;a</div>
						<div class="course-code">C&oacute;digo: 520027</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Fundamentos y generalidades de investigaci&oacute;n</div>
						<div class="course-code">C&oacute;digo: 150001</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Teor&iacute;as del aprendizaje</div>
						<div class="course-code">C&oacute;digo: 517022</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Matem&aacute;ticas para la resoluci&oacute;n de problemas</div>
						<div class="course-code">C&oacute;digo: 517031</div>
						<div class="course-credit">4 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">&Eacute;tica de la profesi&oacute;n docente</div>
						<div class="course-code">C&oacute;digo: 520025</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
				</div>

				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 3</div>
						<div class="period-credits">Cr&eacute;ditos: 18</div>
					</div>
					<div class="course-card">
						<div class="course-name">Pol&iacute;ticas y programas de atenci&oacute;n integral a la infancia</div>
						<div class="course-code">C&oacute;digo: 514502</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Did&aacute;ctica</div>
						<div class="course-code">C&oacute;digo: 517020</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Enfoques curriculares</div>
						<div class="course-code">C&oacute;digo: 517021</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Educaci&oacute;n para la transformaci&oacute;n social</div>
						<div class="course-code">C&oacute;digo: 517027</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Salud y desarrollo infantil</div>
						<div class="course-code">C&oacute;digo: 514006</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Educaci&oacute;n infantil en perspectiva de g&eacute;nero</div>
						<div class="course-code">C&oacute;digo: 502707681</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
				</div>

				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 4</div>
						<div class="period-credits">Cr&eacute;ditos: 18</div>
					</div>
					<div class="course-card">
						<div class="course-name">Desarrollo socioafectivo y moral</div>
						<div class="course-code">C&oacute;digo: 514505</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Pedagog&iacute;a y did&aacute;cticas para la inclusi&oacute;n</div>
						<div class="course-code">C&oacute;digo: 514017</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Investigaci&oacute;n educativa y pedag&oacute;gica</div>
						<div class="course-code">C&oacute;digo: 517023</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Educaci&oacute;n, familia y comunidad</div>
						<div class="course-code">C&oacute;digo: 514506</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Evaluaci&oacute;n</div>
						<div class="course-code">C&oacute;digo: 520026</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Ingl&eacute;s A1</div>
						<div class="course-code">C&oacute;digo: 900001</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
				</div>

				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 5</div>
						<div class="period-credits">Cr&eacute;ditos: 18</div>
					</div>
					<div class="course-card">
						<div class="course-name">Juego, l&uacute;dica y psicomotricidad</div>
						<div class="course-code">C&oacute;digo: 514515</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Exploraci&oacute;n del medio en la infancia</div>
						<div class="course-code">C&oacute;digo: 502707682</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Investigaci&oacute;n en educaci&oacute;n infantil</div>
						<div class="course-code">C&oacute;digo: 514507</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Maestros, infancias y contextos</div>
						<div class="course-code">C&oacute;digo: 502707683</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Escenarios educativos inclusivos</div>
						<div class="course-code">C&oacute;digo: 517028</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Ingl&eacute;s A2</div>
						<div class="course-code">C&oacute;digo: 900002</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
				</div>

				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 6</div>
						<div class="period-credits">Cr&eacute;ditos: 18</div>
					</div>
					<div class="course-card">
						<div class="course-name">Construcci&oacute;n de la lengua escrita</div>
						<div class="course-code">C&oacute;digo: 514516</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Arte y Educaci&oacute;n Art&iacute;stica en la Infancia</div>
						<div class="course-code">C&oacute;digo: 514003</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Pr&aacute;cticas educativas mediadas por TIC</div>
						<div class="course-code">C&oacute;digo: 517018</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Maestro innovador reflexivo</div>
						<div class="course-code">C&oacute;digo: 502707684</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card" data-elective="true" data-elective-type="DE" data-elective-base="Electivo 1 DE">
						<div class="course-name">Electivo 1 DE</div>
						<div class="course-code">C&oacute;digo: por asignar</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Ingl&eacute;s B1</div>
						<div class="course-code">C&oacute;digo: 900003</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
				</div>

				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 7</div>
						<div class="period-credits">Cr&eacute;ditos: 18</div>
					</div>
					<div class="course-card">
						<div class="course-name">Literatura y oralidad en la infancia</div>
						<div class="course-code">C&oacute;digo: 514501</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Desarrollo del pensamiento l&oacute;gico-matem&aacute;tico</div>
						<div class="course-code">C&oacute;digo: 514005</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Administraci&oacute;n y gesti&oacute;n educativa</div>
						<div class="course-code">C&oacute;digo: 500001</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Maestro investigador reflexivo</div>
						<div class="course-code">C&oacute;digo: 502707685</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card" data-elective="true" data-elective-type="IBC" data-elective-base="Electivo 1 IBC">
						<div class="course-name">Electivo 1 IBC</div>
						<div class="course-code">C&oacute;digo: por asignar</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Ingl&eacute;s B2</div>
						<div class="course-code">C&oacute;digo: 900005</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
				</div>

				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 8</div>
						<div class="period-credits">Cr&eacute;ditos: 18</div>
					</div>
					<div class="course-card">
						<div class="course-name">Biling&uuml;ismo en educaci&oacute;n infantil</div>
						<div class="course-code">C&oacute;digo: 514511</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Uso de la TIC en educaci&oacute;n infantil</div>
						<div class="course-code">C&oacute;digo: 514508</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Gesti&oacute;n de proyectos y organizaciones educativas</div>
						<div class="course-code">C&oacute;digo: 514512</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Maestro investigador transformativo</div>
						<div class="course-code">C&oacute;digo: 502707686</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Legislaci&oacute;n educativa</div>
						<div class="course-code">C&oacute;digo: 520024</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card" data-elective="true" data-elective-type="DE" data-elective-base="Electivo 2 DE">
						<div class="course-name">Electivo 2 DE</div>
						<div class="course-code">C&oacute;digo: por asignar</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card" data-elective="true" data-elective-type="FC" data-elective-base="Electivo 1 FC">
						<div class="course-name">Electivo 1 FC</div>
						<div class="course-code">C&oacute;digo: por asignar</div>
						<div class="course-credit">Cr&eacute;ditos seg&uacute;n electivo</div>
					</div>
				</div>

				<div class="period-column">
					<div class="period-header">
						<div class="period-title">Periodo 9</div>
						<div class="period-credits">Cr&eacute;ditos: 11</div>
					</div>
					<div class="course-card" data-elective="true" data-elective-type="DE" data-elective-base="Electivo 3 DE">
						<div class="course-name">Electivo 3 DE</div>
						<div class="course-code">C&oacute;digo: por asignar</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card" data-elective="true" data-elective-type="IBC" data-elective-base="Electivo 2 IBC">
						<div class="course-name">Electivo 2 IBC</div>
						<div class="course-code">C&oacute;digo: por asignar</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card" data-elective="true" data-elective-type="FC" data-elective-base="Electivo 2 FC">
						<div class="course-name">Electivo 2 FC</div>
						<div class="course-code">C&oacute;digo: por asignar</div>
						<div class="course-credit">1 cr&eacute;dito</div>
					</div>
					<div class="course-card">
						<div class="course-name">C&aacute;tedra de infancias</div>
						<div class="course-code">C&oacute;digo: 502707687</div>
						<div class="course-credit">3 cr&eacute;ditos</div>
					</div>
					<div class="course-card">
						<div class="course-name">Prestaci&oacute;n de servicio social unadista</div>
						<div class="course-code">C&oacute;digo: 700004</div>
						<div class="course-credit">0 cr&eacute;ditos</div>
					</div>
					<div class="course-card" data-elective="true" data-elective-type="FC" data-elective-base="Electiva 3 FC">
						<div class="course-name">Electiva 3 FC</div>
						<div class="course-code">C&oacute;digo: por asignar</div>
						<div class="course-credit">1 cr&eacute;dito</div>
					</div>
				</div>
				</div>
			</div>

			<div class="legend">
				<div class="legend-item">
					<div class="legend-color pending"></div>
					<span>Por ver (<span id="legendPorVer">0</span>)</span>
				</div>
				<div class="legend-item">
					<div class="legend-color enrolled"></div>
					<span>Matriculado (<span id="legendMatriculado">0</span>)</span>
				</div>
				<div class="legend-item">
					<div class="legend-color completed"></div>
					<span>Aprobado (<span id="legendAprobado">0</span>)</span>
				</div>
				<div class="legend-item">
					<div class="legend-color proyeccion"></div>
					<span>Proyección (<span id="legendProyeccion">0</span>)</span>
				</div>
			</div>
		</div>
	</div>

	<div class="modal-overlay" id="courseModal" hidden>
		<div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" tabindex="-1">
			<div class="modal-title" id="modalTitle">Actualizar estado</div>
			<div class="modal-course-name" id="modalCourseName">Curso seleccionado</div>
			<div class="modal-course-meta" id="modalCourseMeta"></div>
			<div class="modal-buttons">
				<button type="button" class="modal-button" data-status="aprobado">Aprobado</button>
				<button type="button" class="modal-button" data-status="matriculado">Matriculado</button>
				<button type="button" class="modal-button" data-status="por-ver">Por Ver</button>
				<button type="button" class="modal-button" data-status="proyeccion">Proyección</button>
			</div>
			<button type="button" class="modal-close" id="modalCloseButton">Cerrar</button>
			<small>Selecciona el estado que refleja tu avance actual.</small>
		</div>
	</div>

	<script>
		document.addEventListener('DOMContentLoaded', () => {
			const cards = Array.from(document.querySelectorAll('.course-card'));
			const modal = document.getElementById('courseModal');
			const modalPanel = modal.querySelector('.modal');
			const modalButtons = Array.from(modal.querySelectorAll('.modal-button'));
			modalButtons.forEach(btn => btn.setAttribute('aria-pressed', 'false'));
			const modalCourseName = document.getElementById('modalCourseName');
			const modalCourseMeta = document.getElementById('modalCourseMeta');
			const modalCloseButton = document.getElementById('modalCloseButton');
			const progressFill = document.getElementById('progressFill');
			const progressBar = document.querySelector('.progress-bar');
			const progressPercent = document.getElementById('progressPercent');
			const completedElem = document.getElementById('completedCourses');
			const enrolledElem = document.getElementById('enrolledCourses');
			const pendingElem = document.getElementById('pendingCourses');
			const legendPorVer = document.getElementById('legendPorVer');
			const legendMatriculado = document.getElementById('legendMatriculado');
			const legendAprobado = document.getElementById('legendAprobado');
			const legendProyeccion = document.getElementById('legendProyeccion');
			const totalElem = document.getElementById('totalCourses');
			const approvedCreditsElem = document.getElementById('approvedCredits');
			const profileInput = document.getElementById('profileName');
			const snapshotButton = document.getElementById('downloadSnapshot');
			const statusOptions = {
				'aprobado': { label: 'Aprobado' },
				'matriculado': { label: 'Matriculado' },
				'por-ver': { label: 'Por Ver' },
				'proyeccion': { label: 'Proyección' }
			};
			let activeCard = null;

			if (totalElem) {
				totalElem.textContent = String(cards.length);
			}

			function getElectivePrefix(card) {
				if (!card || card.dataset.elective !== 'true') {
					return '';
				}
				const base = card.dataset.electiveBase || '';
				const type = card.dataset.electiveType || '';
				let number = '';
				if (base) {
					const match = base.match(/Electiv[oa]\s+(\d+)/i);
					if (match) {
						number = match[1];
					}
				}
				if (number && type) {
					return `E${number} ${type}`;
				}
				if (type) {
					return type;
				}
				return base;
			}

			function slugify(value) {
				return value
					.toLowerCase()
					.normalize('NFD')
					.replace(/[\u0300-\u036f]/g, '')
					.replace(/[^a-z0-9]+/g, '-')
					.replace(/^-+|-+$/g, '')
					|| '';
			}

			function getCourseCredits(card) {
				const creditText = card.querySelector('.course-credit')?.textContent || '';
				const match = creditText.match(/(\d+)\s*cr[eé]ditos?/i);
				return match ? Number(match[1]) : 0;
			}

			if (snapshotButton) {
				snapshotButton.addEventListener('click', () => {
					const rawProfile = profileInput ? profileInput.value : '';
					const trimmedProfile = rawProfile.trim();
					const slug = slugify(trimmedProfile || 'Sin perfil') || 'malla';
					const clone = document.documentElement.cloneNode(true);
					const cloneProfileInput = clone.querySelector('#profileName');
					if (cloneProfileInput) {
						cloneProfileInput.setAttribute('value', rawProfile);
					}
					const serialized = '<!DOCTYPE html>\n' + clone.outerHTML;
					const blob = new Blob([serialized], { type: 'text/html' });
					const url = URL.createObjectURL(blob);
					const link = document.createElement('a');
					link.href = url;
					link.download = slug + '-avance.html';
					document.body.appendChild(link);
					link.click();
					link.remove();
					URL.revokeObjectURL(url);
				});
			}

			function ensureBadge(card) {
				let badge = card.querySelector('.course-status-badge');
				if (!badge) {
					badge = document.createElement('span');
					badge.className = 'course-status-badge';
					card.appendChild(badge);
				}
				return badge;
			}

			function setStatus(card, status, { silent = false } = {}) {
				const resolvedStatus = statusOptions[status] ? status : 'por-ver';
				Object.keys(statusOptions).forEach(key => card.classList.remove(`status-${key}`));
				card.classList.add(`status-${resolvedStatus}`);
				card.dataset.status = resolvedStatus;
				const badge = ensureBadge(card);
				badge.textContent = statusOptions[resolvedStatus].label;
				badge.dataset.status = resolvedStatus;
				if (!silent) {
					updateStats();
				}
			}

			function updateStats() {
				const totals = cards.reduce((acc, card) => {
					const status = card.dataset.status || 'por-ver';
					const credits = getCourseCredits(card);
					acc.totalCourses += 1;
					acc.progress.total += 1;
					switch (status) {
						case 'aprobado':
							acc.status.aprobado += 1;
							acc.progress.aprobado += 1;
							acc.credits.aprobado += credits;
							break;
						case 'matriculado':
							acc.status.matriculado += 1;
							break;
						case 'proyeccion':
							acc.status.proyeccion += 1;
							break;
						default:
							acc.status.porVer += 1;
					}
					return acc;
				}, {
					totalCourses: 0,
					status: { aprobado: 0, matriculado: 0, porVer: 0, proyeccion: 0 },
					progress: { total: 0, aprobado: 0 },
					credits: { aprobado: 0 }
				});
				const pendienteTotal = totals.status.porVer + totals.status.proyeccion;
				if (totalElem) totalElem.textContent = totals.totalCourses;
				completedElem.textContent = totals.status.aprobado;
				enrolledElem.textContent = totals.status.matriculado;
				pendingElem.textContent = pendienteTotal;
				if (legendAprobado) legendAprobado.textContent = totals.status.aprobado;
				if (legendMatriculado) legendMatriculado.textContent = totals.status.matriculado;
				if (legendPorVer) legendPorVer.textContent = totals.status.porVer;
				if (legendProyeccion) legendProyeccion.textContent = totals.status.proyeccion;
				if (approvedCreditsElem) approvedCreditsElem.textContent = totals.credits.aprobado;
				const progressValue = totals.progress.total ? Math.round((totals.progress.aprobado / totals.progress.total) * 100) : 0;
				progressPercent.textContent = `${progressValue}%`;
				progressFill.style.width = `${progressValue}%`;
				if (progressBar) {
					progressBar.setAttribute('aria-valuenow', String(progressValue));
					progressBar.setAttribute('aria-valuetext', `${progressValue}% completado`);
				}
			}

			function openModal(card) {
				activeCard = card;
				modalCourseName.textContent = card.querySelector('.course-name')?.textContent.trim() || 'Curso';
				const code = card.querySelector('.course-code')?.textContent.trim();
				const credit = card.querySelector('.course-credit')?.textContent.trim();
				const metaParts = [code, credit].filter(Boolean);
				modalCourseMeta.textContent = metaParts.join(' • ');
				const currentStatus = card.dataset.status || 'por-ver';
				modalButtons.forEach(btn => {
					const isActive = btn.dataset.status === currentStatus;
					btn.classList.toggle('is-active', isActive);
					btn.setAttribute('aria-pressed', String(isActive));
				});
				modal.removeAttribute('hidden');
				document.body.classList.add('modal-open');
				modalPanel.focus({ preventScroll: true });
			}

			function closeModal() {
				modal.setAttribute('hidden', '');
				document.body.classList.remove('modal-open');
				if (activeCard) {
					activeCard.focus();
				}
				activeCard = null;
			}

			cards.forEach(card => {
				const initialStatus = card.dataset.status || 'por-ver';
				setStatus(card, initialStatus, { silent: true });
				card.setAttribute('tabindex', '0');
				card.addEventListener('click', () => openModal(card));
				card.addEventListener('keydown', event => {
					if (event.key === 'Enter' || event.key === ' ') {
						event.preventDefault();
						openModal(card);
					}
				});
			});

			modalButtons.forEach(button => {
				button.addEventListener('click', () => {
					if (!activeCard) return;
					const newStatus = button.dataset.status;
					if (newStatus === 'matriculado' && activeCard.dataset.elective === 'true') {
						const nameElem = activeCard.querySelector('.course-name');
						const codeElem = activeCard.querySelector('.course-code');
						const baseLabel = activeCard.dataset.electiveBase || '';
						const typeLabel = activeCard.dataset.electiveType || '';
						const storedCustomName = activeCard.dataset.electiveCustomName || '';
						const currentNameRaw = nameElem?.textContent.trim() || '';
						const prefixLabel = getElectivePrefix(activeCard) || '';
						let defaultName = storedCustomName;
						if (!defaultName) {
							const prefixesToStrip = [];
							if (prefixLabel) prefixesToStrip.push(`${prefixLabel} - `);
							if (baseLabel) prefixesToStrip.push(`${baseLabel} - `);
							if (typeLabel) prefixesToStrip.push(`${typeLabel} - `);
							for (const prefix of prefixesToStrip) {
								if (currentNameRaw.startsWith(prefix)) {
									defaultName = currentNameRaw.slice(prefix.length).trim();
									break;
								}
							}
							if (!defaultName && currentNameRaw.includes(' - ')) {
								defaultName = currentNameRaw.split(' - ').slice(1).join(' - ').trim();
							}
							if (!defaultName) {
								defaultName = '';
							}
						}
						const currentCode = codeElem?.textContent.replace(/^.*?:\s*/, '').trim() || '';
						const enteredName = window.prompt('Ingresa el nombre del curso electivo:', defaultName || '');
						if (enteredName === null) {
							return;
						}
						const trimmedName = enteredName.trim();
						if (!trimmedName) {
							window.alert('Debes ingresar un nombre para el curso electivo.');
							return;
						}
						const enteredCode = window.prompt('Ingresa el c\u00f3digo del curso:', currentCode);
						if (enteredCode === null) {
							return;
						}
						const trimmedCode = enteredCode.trim();
						if (!trimmedCode) {
							window.alert('Debes ingresar un c\u00f3digo para el curso electivo.');
							return;
						}
						const displayPrefix = getElectivePrefix(activeCard) || typeLabel || baseLabel;
						if (nameElem) {
							nameElem.textContent = displayPrefix ? `${displayPrefix} - ${trimmedName}` : trimmedName;
						}
						if (codeElem) codeElem.textContent = `C\u00f3digo: ${trimmedCode}`;
						activeCard.dataset.electiveCustomName = trimmedName;
						activeCard.dataset.electiveCode = trimmedCode;
					}
					setStatus(activeCard, newStatus);
					modalButtons.forEach(btn => {
						const isActive = btn === button;
						btn.classList.toggle('is-active', isActive);
						btn.setAttribute('aria-pressed', String(isActive));
					});
					closeModal();
				});
			});

			modal.addEventListener('click', event => {
				if (event.target === modal) {
					closeModal();
				}
			});

			modalCloseButton.addEventListener('click', closeModal);

			document.addEventListener('keydown', event => {
				if (event.key === 'Escape' && !modal.hasAttribute('hidden')) {
					closeModal();
				}
			});

			updateStats();
		});
	</script>
</body>
</html>
